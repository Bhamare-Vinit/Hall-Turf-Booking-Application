{"ast":null,"code":"var _jsxFileName = \"D:\\\\bookit\\\\Reservation Booking\\\\src\\\\pages\\\\TimeAudi.jsx\",\n    _s = $RefreshSig$();\n\n// @ts-check\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as ROUTES from \"../constants/routes\";\nimport { Col, Container, Row, Card, Button } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport ButtonCustom from \"../components/ButtonCustom\";\nimport { FaArrowLeft } from \"react-icons/fa\";\nimport Skeleton from \"react-loading-skeleton\";\nimport AuthContext from \"../context/auth/authContext\";\nimport toast from \"react-hot-toast\";\nimport { useShoppingCart } from \"use-shopping-cart\";\nimport { FaCheck, FaTimes } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Styled = styled.div`\n  .background-photo {\n    background: black;\n    overflow: hidden;\n    background: -webkit-linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n      url(\"https://images.unsplash.com/photo-1502570149819-b2260483d302?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1950&q=80\");\n    object-fit: \"cover\";\n  }\n`;\n_c = Styled;\n\nconst TimeAudi = () => {\n  _s();\n\n  const [timingsAvailable, setTimingsAvailable] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [chosenTime, setChosenTime] = useState([]);\n  const [somaiya, setSomaiya] = useState(false);\n  const date = localStorage.getItem(\"date\");\n  const authContext = useContext(AuthContext);\n  const history = useHistory();\n  const {\n    addItem\n  } = useShoppingCart();\n\n  const handleGoingback = () => {\n    localStorage.setItem(\"date\", \"\");\n  };\n\n  const checkEmail = () => {\n    const email = localStorage.getItem(\"email\");\n    const isSomaiya = email.split(\"@\")[1];\n\n    if (isSomaiya === \"somaiya.edu\") {\n      setSomaiya(true);\n    } else setSomaiya(false);\n  };\n\n  const goingToAddons = () => {\n    if (chosenTime.length === 0) {\n      return toast.error(\"Please select a time slot\");\n    } else {\n      localStorage.setItem(\"time\", JSON.stringify(chosenTime));\n      localStorage.setItem(\"book\", \"audi\");\n      const book = {\n        id: 1,\n        title: \"Auditorium\",\n        name: \"Auditorium\",\n        description: \"Auditorium per hour booking rate is ₹10000\",\n        price: somaiya ? 100 : 1000000,\n        inCart: true,\n        currency: \"INR\",\n        sku: \"1\"\n      };\n      addItem(book, chosenTime.length);\n      history.push(ROUTES.ADDONSAUDI);\n    }\n  };\n\n  const handleAddTime = timing => {\n    const duplicate = chosenTime.find(el => el === timing);\n\n    if (!duplicate) {\n      const newTime = chosenTime.slice(0);\n      newTime.push(timing);\n      toast.success(`${timing} selected`);\n      return setChosenTime(newTime);\n    } else {\n      toast.error(\"Time already selected\");\n    }\n  };\n\n  const handleRemoveTime = timing => {\n    const newTime = chosenTime.filter(el => el !== timing);\n    toast.success(`${timing} removed`);\n    return setChosenTime(newTime);\n  };\n\n  useEffect(() => {\n    axios.get(`/baudis/${date}`).then(res => {\n      setIsLoading(false);\n      setTimingsAvailable(res.data);\n      authContext.loadUser();\n    });\n    checkEmail(); // eslint-disable-next-line\n  }, [date]);\n  return /*#__PURE__*/_jsxDEV(Styled, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background-photo\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        className: \"p-5\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: ROUTES.BOOKING,\n              onClick: handleGoingback,\n              style: {\n                color: \"#fff\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  color: \"#fff\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {\n                  size: 20,\n                  style: {\n                    marginBottom: \"5px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this), \"\\xA0 Back\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"mb-4\",\n              style: {\n                color: \"#fff\",\n                paddingLeft: \"25px\"\n              },\n              children: [\"Please select a time slot :\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: /*#__PURE__*/_jsxDEV(ButtonCustom, {\n                block: false,\n                size: \"md\",\n                parentfunction: goingToAddons,\n                buttonContent: \"Proceed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(Skeleton, {\n          count: 5,\n          height: 150,\n          className: \"my-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            className: \"text-center mb-3\",\n            children: timingsAvailable.map((timing, i) => {\n              const bgColor = chosenTime.find(el => el === timing) === timing ? \"success\" : \"dark\";\n              return /*#__PURE__*/_jsxDEV(Col, {\n                className: \"text-center\",\n                md: \"6\",\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"panel panel-default card-input rounded mx-5\",\n                  style: {\n                    margin: \"10px\",\n                    padding: \"0px\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n                    className: `panel-heading bg-${bgColor} text-white`,\n                    children: [\"Slot \", i + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                    className: \"panel-body\",\n                    children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n                      children: timing\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                      children: [/*#__PURE__*/_jsxDEV(Button // disabled={disabledAdd}\n                      , {\n                        className: \"flex ml-auto border-0 py-2 px-2 rounded m-1\",\n                        onClick: () => handleAddTime(timing),\n                        value: timing,\n                        variant: \"warning\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: /*#__PURE__*/_jsxDEV(FaCheck, {\n                            size: 12\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 164,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 163,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Button // disabled={disabledRemove}\n                      , {\n                        className: \"flex ml-auto border-0 py-2 px-2 rounded m-1\",\n                        onClick: () => handleRemoveTime(timing),\n                        value: timing,\n                        variant: \"danger\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: /*#__PURE__*/_jsxDEV(FaTimes, {\n                            size: 12\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 175,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 174,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 23\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)\n        }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-0\",\n          children: /*#__PURE__*/_jsxDEV(ButtonCustom, {\n            block: false,\n            size: \"md\",\n            parentfunction: goingToAddons,\n            buttonContent: \"Proceed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TimeAudi, \"fQgBVsBR3NILkoHTaSlAnhvVibY=\", false, function () {\n  return [useHistory, useShoppingCart];\n});\n\n_c2 = TimeAudi;\nexport default TimeAudi;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Styled\");\n$RefreshReg$(_c2, \"TimeAudi\");","map":{"version":3,"sources":["D:/bookit/Reservation Booking/src/pages/TimeAudi.jsx"],"names":["React","useState","useEffect","useContext","Link","useHistory","ROUTES","Col","Container","Row","Card","Button","styled","axios","ButtonCustom","FaArrowLeft","Skeleton","AuthContext","toast","useShoppingCart","FaCheck","FaTimes","Styled","div","TimeAudi","timingsAvailable","setTimingsAvailable","isLoading","setIsLoading","chosenTime","setChosenTime","somaiya","setSomaiya","date","localStorage","getItem","authContext","history","addItem","handleGoingback","setItem","checkEmail","email","isSomaiya","split","goingToAddons","length","error","JSON","stringify","book","id","title","name","description","price","inCart","currency","sku","push","ADDONSAUDI","handleAddTime","timing","duplicate","find","el","newTime","slice","success","handleRemoveTime","filter","get","then","res","data","loadUser","BOOKING","color","marginBottom","paddingLeft","map","i","bgColor","margin","padding"],"mappings":"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","sourcesContent":["// @ts-check\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport * as ROUTES from \"../constants/routes\";\nimport { Col, Container, Row, Card, Button } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport ButtonCustom from \"../components/ButtonCustom\";\nimport { FaArrowLeft } from \"react-icons/fa\";\nimport Skeleton from \"react-loading-skeleton\";\nimport AuthContext from \"../context/auth/authContext\";\nimport toast from \"react-hot-toast\";\nimport { useShoppingCart } from \"use-shopping-cart\";\nimport { FaCheck, FaTimes } from \"react-icons/fa\";\n\nconst Styled = styled.div`\n  .background-photo {\n    background: black;\n    overflow: hidden;\n    background: -webkit-linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n      url(\"https://images.unsplash.com/photo-1502570149819-b2260483d302?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1950&q=80\");\n    object-fit: \"cover\";\n  }\n`;\n\nconst TimeAudi = () => {\n  const [timingsAvailable, setTimingsAvailable] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [chosenTime, setChosenTime] = useState([]);\n  const [somaiya, setSomaiya] = useState(false);\n  const date = localStorage.getItem(\"date\");\n  const authContext = useContext(AuthContext);\n  const history = useHistory();\n  const { addItem } = useShoppingCart();\n  const handleGoingback = () => {\n    localStorage.setItem(\"date\", \"\");\n  };\n\n  const checkEmail = () => {\n    const email = localStorage.getItem(\"email\");\n    const isSomaiya = email.split(\"@\")[1];\n    if (isSomaiya === \"somaiya.edu\") {\n      setSomaiya(true);\n    } else setSomaiya(false);\n  };\n\n  const goingToAddons = () => {\n    if (chosenTime.length === 0) {\n      return toast.error(\"Please select a time slot\");\n    } else {\n      localStorage.setItem(\"time\", JSON.stringify(chosenTime));\n      localStorage.setItem(\"book\", \"audi\");\n      const book = {\n        id: 1,\n        title: \"Auditorium\",\n        name: \"Auditorium\",\n        description: \"Auditorium per hour booking rate is ₹10000\",\n        price: somaiya ? 100 : 1000000,\n        inCart: true,\n        currency: \"INR\",\n        sku: \"1\",\n      };\n      addItem(book, chosenTime.length);\n      history.push(ROUTES.ADDONSAUDI);\n    }\n  };\n\n  const handleAddTime = (timing) => {\n    const duplicate = chosenTime.find((el) => el === timing);\n    if (!duplicate) {\n      const newTime = chosenTime.slice(0);\n      newTime.push(timing);\n      toast.success(`${timing} selected`);\n      return setChosenTime(newTime);\n    } else {\n      toast.error(\"Time already selected\");\n    }\n  };\n\n  const handleRemoveTime = (timing) => {\n    const newTime = chosenTime.filter((el) => el !== timing);\n    toast.success(`${timing} removed`);\n    return setChosenTime(newTime);\n  };\n\n  useEffect(() => {\n    axios.get(`/baudis/${date}`).then((res) => {\n      setIsLoading(false);\n      setTimingsAvailable(res.data);\n      authContext.loadUser();\n    });\n    checkEmail();\n    // eslint-disable-next-line\n  }, [date]);\n\n  return (\n    <Styled>\n      <div className=\"background-photo\">\n        <Container className=\"p-5\">\n          <Row>\n            <Col md={4}>\n              <Link\n                to={ROUTES.BOOKING}\n                onClick={handleGoingback}\n                style={{ color: \"#fff\" }}\n              >\n                <h5 style={{ color: \"#fff\" }}>\n                  <FaArrowLeft size={20} style={{ marginBottom: \"5px\" }} />\n                  &nbsp; Back\n                </h5>\n              </Link>\n            </Col>\n            <Col md={4}>\n              <h3\n                className=\"mb-4\"\n                style={{ color: \"#fff\", paddingLeft: \"25px\" }}\n              >\n                Please select a time slot :{\" \"}\n              </h3>\n            </Col>\n            <Col md={4}>\n              <div className=\"text-right\">\n                <ButtonCustom\n                  block={false}\n                  size=\"md\"\n                  parentfunction={goingToAddons}\n                  buttonContent=\"Proceed\"\n                />\n              </div>\n            </Col>\n          </Row>\n          {isLoading ? (\n            <Skeleton count={5} height={150} className=\"my-3\" />\n          ) : (\n            <>\n              <Row className=\"text-center mb-3\">\n                {timingsAvailable.map((timing, i) => {\n                  const bgColor =\n                    chosenTime.find((el) => el === timing) === timing\n                      ? \"success\"\n                      : \"dark\";\n                  return (\n                    <Col className=\"text-center\" md=\"6\" key={i}>\n                      <Card\n                        className=\"panel panel-default card-input rounded mx-5\"\n                        style={{ margin: \"10px\", padding: \"0px\" }}\n                      >\n                        <Card.Header\n                          className={`panel-heading bg-${bgColor} text-white`}\n                        >\n                          Slot {i + 1}\n                        </Card.Header>\n                        <Card.Body className=\"panel-body\">\n                          <Card.Text>{timing}</Card.Text>\n                          <Card.Text>\n                            <Button\n                              // disabled={disabledAdd}\n                              className=\"flex ml-auto border-0 py-2 px-2 rounded m-1\"\n                              onClick={() => handleAddTime(timing)}\n                              value={timing}\n                              variant=\"warning\"\n                            >\n                              <span>\n                                <FaCheck size={12} />\n                              </span>\n                            </Button>\n                            <Button\n                              // disabled={disabledRemove}\n                              className=\"flex ml-auto border-0 py-2 px-2 rounded m-1\"\n                              onClick={() => handleRemoveTime(timing)}\n                              value={timing}\n                              variant=\"danger\"\n                            >\n                              <span>\n                                <FaTimes size={12} />\n                              </span>\n                            </Button>\n                          </Card.Text>\n                        </Card.Body>\n                      </Card>\n                    </Col>\n                  );\n                })}\n              </Row>\n            </>\n          )}\n          <div className=\"text-center mb-0\">\n            <ButtonCustom\n              block={false}\n              size=\"md\"\n              parentfunction={goingToAddons}\n              buttonContent=\"Proceed\"\n            />\n          </div>\n        </Container>\n      </div>\n    </Styled>\n  );\n};\n\nexport default TimeAudi;\n"]},"metadata":{},"sourceType":"module"}